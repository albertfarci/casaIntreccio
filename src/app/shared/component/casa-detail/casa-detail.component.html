<ion-card *ngIf="casa">

  <ion-card-header>

    <ion-item lines="none">
      <ion-card-title class="ion-text-wrap" [innerHTML]="casa[0]?.title.rendered | titleDeleteComa"></ion-card-title>
      <ion-button *ngIf="!virtualTour" color="dark" [hidden]="isPrefferedYet" fill="outline" slot="end" (click)="addToPreferiti()">
        <ion-icon name="heart-outline" class="title"></ion-icon>
      </ion-button>
    </ion-item>
    <ion-item *ngIf="!virtualTour">
      <ion-label class="ion-text-wrap">
        {{ 'inzia-visita-interattiva' | translatePipe}}
      </ion-label>
      <ion-button fill="outline" slot="end" color="dark" [routerLink]="['/tablinks/dashboard']">
        <ion-icon name="radio-outline" class="title"></ion-icon>
      </ion-button>
    </ion-item>

  </ion-card-header>

  <ion-slides pager="true" [options]="slideOpts">
    <ion-slide *ngFor="let foto of casa[0]?.pmdb_galleria_foto">
      <img class="img-chiesa" src="{{foto}}" (click)="showImageFullScren(foto)" />
    </ion-slide>
  </ion-slides>
  <ion-card-content>

    <ion-item lines="none">
      <ion-icon class="title" slot="start" name="text-outline"></ion-icon>
      <ion-label class="ion-text-wrap title larger">
        {{ 'narrazione' | translatePipe}}
      </ion-label>
    </ion-item>

    <ion-item>
      <span class="ion-text-wrap text large" color="dark" [innerHTML]="casa[0]?.content.rendered">
      </span>
    </ion-item>


    <ion-row class="ion-align-items-center">
      <ion-col size="3" class="ion-align-items-center">
        <ion-button color="light" (click)="ShareGeneric('text')">
          <ion-icon name="share-social-outline" class="title"></ion-icon>
        </ion-button>
      </ion-col>
      <ion-col size="3" class="ion-align-items-center">
        <ion-button color="light" (click)="SendEmail()">
          <ion-icon name="mail-outline" class="title"></ion-icon>
        </ion-button>
      </ion-col>
      <ion-col size="3" class="ion-align-items-center">
        <ion-button color="light" (click)="ShareFacebook()">
          <ion-icon name="logo-facebook" class="title"></ion-icon>
        </ion-button>
      </ion-col>
      <ion-col size="3" class="ion-align-items-center">
        <ion-button color="light" (click)="ShareWhatsapp()">
          <ion-icon name="logo-whatsapp" class="title"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>

    <div *ngIf="virtualTour">
      <ion-item lines="none">
        <ion-icon class="title" slot="start" name="film-outline"></ion-icon>
        <span class="ion-text-wrap title x-large">
          {{ 'multimedia' | translatePipe}}
        </span>
      </ion-item>

      <ion-item lines="none" class="ion-margin-top" *ngIf="casa[0].audio ">
        <audio controls style="width: 100%;">
          <source [src]="casa[0]?.audio" type="audio/mp4">
        </audio>
      </ion-item>

      <ion-item class="ion-margin-top" *ngIf="casa[0].virtual_tour">
        <iframe id="iframe" [hidden]="!showIframe" width="100%" height="315"
          [src]="dashboardTemplateService.iframeSanitize(casa[0])" allowfullscreen="true">
        </iframe>
      </ion-item>

    </div>

    <div *ngIf="!virtualTour">
      <ion-item lines="none">
        <ion-icon class="title" slot="start" name="film-outline"></ion-icon>
        <span class="ion-text-wrap title larger"  color="primary">
          <b>{{ 'istruzioni-sblocco-multimedia' | translatePipe}}</b>
        </span>
      </ion-item>
      <ion-slides pager="true">

        <ion-slide>
          <span class="ion-text-wrap title larger">{{ 'attiva-bluetooth' | translatePipe}}</span>
          <p><b></b></p>
          <img src="../../../../assets/images/slide-2.png" />
        </ion-slide>

        <ion-slide style="
        width: 50%;">
          <div class="slide">
            <span class="ion-text-wrap title larger" [routerLink]="['/tablinks/dashboard']">{{ 'scansione' | translatePipe}}</span>
            <p><b>{{ 'premi-su-tab-scansione' | translatePipe}}</b></p>
            <img src="../../../../assets/images/slide-1.png" />
          </div>
        </ion-slide>

        <ion-slide>
          <span class="ion-text-wrap title larger">{{ 'avvicinati-alla-chiesa' | translatePipe}}</span>
          <p><b></b></p>
          <img src="../../../../assets/images/slide-3.png" />
        </ion-slide>

        <ion-slide>
          <span class="ion-text-wrap title larger">{{ 'scopri-i-multimedia' | translatePipe}}</span>
          <p><b></b></p>
          <img src="../../../../assets/images/slide-4.png" />
        </ion-slide>

      </ion-slides>
    </div>

    <ion-item *ngIf="casa[0].bibliografia">
      <ion-label class="ion-text-wrap" color="dark" [innerHTML]="casa[0]?.bibliografia">
      </ion-label>
    </ion-item>

  </ion-card-content>
</ion-card>

<ion-card *ngIf="!casa">
  <div class="ion-padding custom-skeleton">
    <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
    <ion-skeleton-text animated></ion-skeleton-text>
    <ion-skeleton-text animated style="width: 88%"></ion-skeleton-text>
    <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
    <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
  </div>


  <ion-card-header>

    <ion-item lines="none">
      <ion-card-title class="ion-text-wrap">
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </ion-card-title>
      <ion-icon>
        <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
      </ion-icon>
    </ion-item>
    <ion-item>
      <ion-card-title class="ion-text-wrap">
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </ion-card-title>
      <ion-icon>
        <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
      </ion-icon>
    </ion-item>
  </ion-card-header>
  <ion-card-content>

    <ion-item lines="none">
      <ion-label>
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-label>
        <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
      </ion-label>
    </ion-item>


    <ion-item>
      <ion-label>
        <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

  </ion-card-content>
</ion-card>