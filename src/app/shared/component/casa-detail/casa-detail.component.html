<ion-card *ngIf="casa">

  <ion-card-header>

    <ion-item lines="none">
      <ion-card-title class="ion-text-wrap" [innerHTML]="casa[0]?.title.rendered"></ion-card-title>
      <ion-button *ngIf="!virtualTour" color="dark" [hidden]="isPrefferedYet" fill="outline" slot="end" (click)="addToPreferiti()">
        <ion-icon name="heart-outline" class="title"></ion-icon>
      </ion-button>
    </ion-item>
    <ion-item *ngIf="isAllowed()?.buttonBeacon && !virtualTour">
      <ion-label class="ion-text-wrap">
        {{ 'inzia-visita-interattiva' | translatePipe}}
      </ion-label>
      <ion-button fill="outline" slot="end" color="dark" [routerLink]="['/tablinks/dashboard']">
        <ion-icon name="radio-outline" class="title"></ion-icon>
      </ion-button>
    </ion-item>

  </ion-card-header>

  <ion-slides pager="true" [options]="slideOpts" *ngIf="isAllowed()?.photos && casa[0]?.pmdb_galleria_foto.length > 0">
    <ion-slide *ngFor="let foto of casa[0]?.pmdb_galleria_foto">
      <img class="img-chiesa" src="{{foto}}" (click)="showImageFullScren(foto)" />
    </ion-slide>
  </ion-slides>

  <ion-slides pager="true" [options]="slideOpts" *ngIf="isAllowed()?.photos && casa[0]?.pmdb_galleria_foto.length == 0">
    <ion-slide >
      <img class="img-chiesa" src="{{casa[0]?.immagine_in_evidenza.medium}}" (click)="showImageFullScren(foto)" />
    </ion-slide>
  </ion-slides>
  <ion-card-content>


    <ion-item lines="none" *ngIf="isAllowed()?.nome_scientifico && casa[0]?.nome_scientifico">
      <ion-icon class="title" slot="start" name="text-outline"></ion-icon>
      <ion-label class="ion-text-wrap title larger">
        {{ 'nome_scientifico' | translatePipe}}
      </ion-label>
    </ion-item>

    <ion-item *ngIf="isAllowed()?.nome_scientifico && casa[0]?.nome_scientifico">
      <span class="ion-text-wrap text large" color="dark" [innerHTML]="casa[0]?.nome_scientifico">
      </span>
    </ion-item>


    <ion-item lines="none" *ngIf="isAllowed()?.nome_in_sardo && casa[0]?.nome_in_sardo">
      <ion-icon class="title" slot="start" name="text-outline"></ion-icon>
      <ion-label class="ion-text-wrap title larger">
        {{ 'nome_in_sardo' | translatePipe}}
      </ion-label>
    </ion-item>

    <ion-item  *ngIf="isAllowed()?.nome_in_sardo && casa[0]?.nome_in_sardo">
      <span class="ion-text-wrap text large" color="dark" [innerHTML]="casa[0]?.nome_in_sardo">
      </span>
    </ion-item>


    <ion-item lines="none" *ngIf="isAllowed()?.ecologia_e_comportamento && casa[0]?.ecologia_e_comportamento">
      <ion-icon class="title" slot="start" name="text-outline"></ion-icon>
      <ion-label class="ion-text-wrap title larger">
        {{ 'ecologia_e_comportamento' | translatePipe}}
      </ion-label>
    </ion-item>

    <ion-item *ngIf="isAllowed()?.ecologia_e_comportamento && casa[0]?.ecologia_e_comportamento">
      <span class="ion-text-wrap text large" color="dark" [innerHTML]="casa[0]?.ecologia_e_comportamento">
      </span>
    </ion-item>


    <ion-item lines="none" *ngIf="isAllowed()?.conservazione && casa[0]?.conservazione">
      <ion-icon class="title" slot="start" name="text-outline"></ion-icon>
      <ion-label class="ion-text-wrap title larger">
        {{ 'conservazione' | translatePipe}}
      </ion-label>
    </ion-item>

    <ion-item *ngIf="isAllowed()?.conservazione && casa[0]?.conservazione">
      <span class="ion-text-wrap text large" color="dark" [innerHTML]="casa[0]?.conservazione">
      </span>
    </ion-item>


    <ion-item lines="none" *ngIf="isAllowed()?.description && casa[0]?.descrizione">
      <ion-icon class="title" slot="start" name="text-outline"></ion-icon>
      <ion-label class="ion-text-wrap title larger">
        {{ 'descrizione' | translatePipe}}
      </ion-label>
    </ion-item>

    <ion-item *ngIf="isAllowed()?.description && casa[0]?.descrizione">
      <span class="ion-text-wrap text large" color="dark" [innerHTML]="casa[0]?.descrizione">
      </span>
    </ion-item>

    


    <div *ngIf="isAllowed()?.audio">
      <ion-item lines="none">
        <ion-icon class="title" slot="start" name="film-outline"></ion-icon>
        <span class="ion-text-wrap title x-large">
          {{ 'multimedia' | translatePipe}}
        </span>
      </ion-item>

      <ion-item lines="none" class="ion-margin-top" *ngIf="casa[0].audio ">
        <audio controls style="width: 100%;">
          <source [src]="casa[0]?.audio" type="audio/mp4">
        </audio>
      </ion-item>

    </div>

  </ion-card-content>
</ion-card>

<ion-card *ngIf="!casa">
  <div class="ion-padding custom-skeleton">
    <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
    <ion-skeleton-text animated></ion-skeleton-text>
    <ion-skeleton-text animated style="width: 88%"></ion-skeleton-text>
    <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
    <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
  </div>


  <ion-card-header>

    <ion-item lines="none">
      <ion-card-title class="ion-text-wrap">
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </ion-card-title>
      <ion-icon>
        <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
      </ion-icon>
    </ion-item>
    <ion-item>
      <ion-card-title class="ion-text-wrap">
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </ion-card-title>
      <ion-icon>
        <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
      </ion-icon>
    </ion-item>
  </ion-card-header>
  <ion-card-content>

    <ion-item lines="none">
      <ion-label>
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-label>
        <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
      </ion-label>
    </ion-item>


    <ion-item>
      <ion-label>
        <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

  </ion-card-content>
</ion-card>